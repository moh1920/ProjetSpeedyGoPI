<div class="container mt-4" *ngIf="results">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h2 class="mb-0"><i class="bi bi-bar-chart-fill me-2"></i>Poll Results</h2>
      <span class="badge bg-light text-primary">{{ getTotalVotes() }} votes</span>
    </div>

    <div class="card-body">
      <div *ngFor="let option of results | keyvalue; let i = index" class="mb-3">
        <div class="d-flex justify-content-between mb-1">
          <span class="fw-bold">{{ option.key }}</span>
          <span>{{ option.value }} votes ({{ calculatePercentage(option.value) }}%)</span>
        </div>

        <div class="progress" style="height: 25px;">
          <div
            class="progress-bar progress-bar-striped"
            [ngClass]="getProgressBarColor(i)"
            role="progressbar"
            [style.width]="calculatePercentage(option.value) + '%'"
            [attr.aria-valuenow]="option.value"
            aria-valuemin="0"
            [attr.aria-valuemax]="getTotalVotes()">
            {{ calculatePercentage(option.value) }}%
          </div>
        </div>
      </div>
    </div>

    <div class="card-footer bg-white d-flex justify-content-between">
      <button class="btn btn-outline-secondary" (click)="back()">
        <i class="bi bi-arrow-left me-2"></i>Back
      </button>
      <button class="btn btn-outline-primary" (click)="share()">
        <i class="bi bi-share me-2"></i>Share
      </button>
    </div>
  </div>
</div>
